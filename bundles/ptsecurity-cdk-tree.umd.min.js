!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/collections"),require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("@angular/cdk/bidi"),require("@angular/cdk/coercion"),require("@angular/cdk/a11y"),require("@angular/common")):"function"==typeof define&&define.amd?define("@ptsecurity/cdk/tree",["exports","@angular/cdk/collections","rxjs","rxjs/operators","@angular/core","@angular/cdk/bidi","@angular/cdk/coercion","@angular/cdk/a11y","@angular/common"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).ptsecurity=e.ptsecurity||{},e.ptsecurity.cdk=e.ptsecurity.cdk||{},e.ptsecurity.cdk.tree={}),e.ng.cdk.collections,e.rxjs,e.rxjs.operators,e.ng.core,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.cdk.a11y,e.ng.common)}(this,(function(e,t,r,n,o,i,s,a,c){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function u(e,t){function r(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}Object.create;function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}Object.create;var h=function(){function e(){this.expansionModel=new t.SelectionModel(!0),this.filterModel=new t.SelectionModel(!0),this.filterValue=new r.BehaviorSubject("")}return e.prototype.toggle=function(e){this.filterValue.value||this.expansionModel.toggle(e)},e.prototype.expand=function(e){this.filterValue.value||this.expansionModel.select(e)},e.prototype.collapse=function(e){this.filterValue.value||this.expansionModel.deselect(e)},e.prototype.isExpanded=function(e){return this.expansionModel.isSelected(e)},e.prototype.toggleDescendants=function(e){this.expansionModel.isSelected(e)?this.collapseDescendants(e):this.expandDescendants(e)},e.prototype.collapseAll=function(){this.expansionModel.clear()},e.prototype.expandDescendants=function(e){var t,r=[e];r.push.apply(r,p(this.getDescendants(e))),(t=this.expansionModel).select.apply(t,p(r))},e.prototype.collapseDescendants=function(e){var t,r=[e];r.push.apply(r,p(this.getDescendants(e))),(t=this.expansionModel).deselect.apply(t,p(r))},e}();function f(e,t){return e===t}function g(e,t){return RegExp(t,"gi").test(e)}var y=function(e){function t(t,r,n,o,i,s){void 0===i&&(i=f),void 0===s&&(s=g);var a=e.call(this)||this;return a.getLevel=t,a.isExpandable=r,a.getValue=n,a.getViewValue=o,a.compareValues=i,a.compareViewValues=s,a}return u(t,e),t.prototype.getDescendants=function(e){for(var t=[],r=this.dataNodes.indexOf(e)+1;r<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[r]);r++)t.push(this.dataNodes[r]);return t},t.prototype.expandAll=function(){var e;(e=this.expansionModel).select.apply(e,p(this.dataNodes))},t.prototype.getParents=function(e,t){return e.parent?(t.unshift(e.parent),this.getParents(e.parent,t)):t},t.prototype.hasValue=function(e){var t=this;return this.dataNodes.find((function(r){return t.compareValues(t.getValue(r),e)}))},t.prototype.filterNodes=function(e){var t,r=this;this.filterModel.clear();var n=this.dataNodes.filter((function(t){return r.compareViewValues(r.getViewValue(t),e)})),o=new Set;n.forEach((function(e){r.getParents(e,[]).forEach((function(e){return o.add(e)})),o.add(e)})),(t=this.filterModel).select.apply(t,p(Array.from(o))),this.filterValue.next(e)},t}(h),v=function(e){function t(t){var r=e.call(this)||this;return r.getChildren=t,r}return u(t,e),t.prototype.expandAll=function(){var e,t=this;this.expansionModel.clear();var r=this.dataNodes.reduce((function(e,r){return p(e,t.getDescendants(r),[r])}),[]);(e=this.expansionModel).select.apply(e,p(r))},t.prototype.getDescendants=function(e){var t=[];return this._getDescendants(t,e),t.splice(1)},t.prototype._getDescendants=function(e,t){var r=this;e.push(t),this.getChildren(t).pipe(n.take(1)).subscribe((function(t){t&&t.length>0&&t.forEach((function(t){return r._getDescendants(e,t)}))}))},t}(h),b=function(e,t){this.viewContainer=e,this.changeDetectorRef=t};b.decorators=[{type:o.Directive,args:[{selector:"[cdkTreeNodeOutlet]"}]}],b.ctorParameters=function(){return[{type:o.ViewContainerRef},{type:o.ChangeDetectorRef}]};var D=function(e){this.$implicit=e},C=function(e){this.template=e};function m(){return Error("A valid data source must be provided.")}function N(){return Error("There can only be one default row without a when predicate function.")}function k(){return Error("Could not find a matching node definition for the provided node data.")}function x(){return Error("Could not find a tree control for the tree.")}function w(){return Error("Could not find functions for nested/flat tree in tree control.")}C.decorators=[{type:o.Directive,args:[{selector:"[cdkTreeNodeDef]",inputs:["when: cdkTreeNodeDefWhen"]}]}],C.ctorParameters=function(){return[{type:o.TemplateRef}]};var S=function(){function e(e,t){this.differs=e,this.changeDetectorRef=t,this.viewChange=new r.BehaviorSubject({start:0,end:Number.MAX_VALUE}),this.onDestroy=new r.Subject,this.levels=new Map}return Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this.switchDataSource(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){if(this.dataDiffer=this.differs.find([]).create(this.trackBy),!this.treeControl)throw x()},e.prototype.ngOnDestroy=function(){this.nodeOutlet.viewContainer.clear(),this.onDestroy.next(),this.onDestroy.complete(),this._dataSource&&"function"==typeof this.dataSource.disconnect&&this.dataSource.disconnect(this),this.dataSubscription&&(this.dataSubscription.unsubscribe(),this.dataSubscription=null)},e.prototype.ngAfterContentChecked=function(){var e=this.nodeDefs.filter((function(e){return!e.when}));if(e.length>1)throw N();this.defaultNodeDef=e[0],this.dataSource&&this.nodeDefs&&!this.dataSubscription&&this.observeRenderChanges()},e.prototype.renderNodeChanges=function(e,t,r,n){var o=this;void 0===t&&(t=this.dataDiffer),void 0===r&&(r=this.nodeOutlet.viewContainer);var i=t.diff(e);i&&(i.forEachOperation((function(t,i,s){if(null==t.previousIndex)o.insertNode(e[s],s,r,n);else if(null==s)r.remove(i),o.levels.delete(t.item);else{var a=r.get(i);r.move(a,s)}})),this.changeDetectorRef.detectChanges())},e.prototype.getNodeDef=function(e,t){if(1===this.nodeDefs.length)return this.nodeDefs.first;var r=this.nodeDefs.find((function(r){return r.when&&r.when(t,e)}))||this.defaultNodeDef;if(!r)throw k();return r},e.prototype.insertNode=function(e,t,r,n){var o=this.getNodeDef(e,t),i=new D(e);this.treeControl.getLevel?i.level=this.treeControl.getLevel(e):void 0!==n&&this.levels.has(n)?i.level=this.levels.get(n)+1:i.level=0,this.levels.set(e,i.level),(r||this.nodeOutlet.viewContainer).createEmbeddedView(o.template,i,t),O.mostRecentTreeNode&&(O.mostRecentTreeNode.data=e)},e.prototype.observeRenderChanges=function(){var e,t=this;if("function"==typeof this._dataSource.connect?e=this._dataSource.connect(this):this._dataSource instanceof r.Observable?e=this._dataSource:Array.isArray(this._dataSource)&&(e=r.of(this._dataSource)),!e)throw m();this.dataSubscription=e.pipe(n.takeUntil(this.onDestroy)).subscribe((function(e){return t.renderNodeChanges(e)}))},e.prototype.switchDataSource=function(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this.dataSubscription&&(this.dataSubscription.unsubscribe(),this.dataSubscription=null),e||this.nodeOutlet.viewContainer.clear(),this._dataSource=e,this.nodeDefs&&this.observeRenderChanges()},e}();S.decorators=[{type:o.Component,args:[{selector:"cdk-tree",exportAs:"cdkTree",template:"<ng-container cdkTreeNodeOutlet></ng-container>",host:{class:"cdk-tree",role:"tree"},encapsulation:o.ViewEncapsulation.None,changeDetection:o.ChangeDetectionStrategy.OnPush}]}],S.ctorParameters=function(){return[{type:o.IterableDiffers},{type:o.ChangeDetectorRef}]},S.propDecorators={treeControl:[{type:o.Input}],trackBy:[{type:o.Input}],nodeOutlet:[{type:o.ViewChild,args:[b,{static:!0}]}],nodeDefs:[{type:o.ContentChildren,args:[C]}],dataSource:[{type:o.Input}]};var O=function(){function e(t,n){this.elementRef=t,this.tree=n,this.role="treeitem",this.destroyed=new r.Subject,e.mostRecentTreeNode=this}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this.tree.treeControl.isExpanded(this._data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.tree.treeControl.getLevel?this.tree.treeControl.getLevel(this._data):0},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this.destroyed.next(),this.destroyed.complete()},e.prototype.focus=function(){this.elementRef.nativeElement.focus()},e}();O.mostRecentTreeNode=null,O.decorators=[{type:o.Directive,args:[{selector:"cdk-tree-node",exportAs:"cdkTreeNode",host:{class:"cdk-tree-node","[attr.aria-expanded]":"isExpanded","[attr.aria-level]":'role === "treeitem" ? level : null',"[attr.role]":"role"}}]}],O.ctorParameters=function(){return[{type:o.ElementRef},{type:S,decorators:[{type:o.Inject,args:[o.forwardRef((function(){return S}))]}]}]},O.propDecorators={role:[{type:o.Input}]};var T=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.elementRef=t,o.differs=n,o}return u(t,e),t.prototype.ngAfterContentInit=function(){var e=this;if(this.dataDiffer=this.differs.find([]).create(this.tree.trackBy),!this.tree.treeControl.getChildren)throw w();this.tree.treeControl.getChildren(this.data).pipe(n.takeUntil(this.destroyed)).subscribe((function(t){e.children=t,e.updateChildrenNodes()})),this.nodeOutlet.changes.pipe(n.takeUntil(this.destroyed)).subscribe((function(){return e.updateChildrenNodes()}))},t.prototype.ngOnDestroy=function(){this.clear(),e.prototype.ngOnDestroy.call(this)},t.prototype.updateChildrenNodes=function(){this.nodeOutlet.length&&this.children?this.tree.renderNodeChanges(this.children,this.dataDiffer,this.nodeOutlet.first.viewContainer,this.data):this.dataDiffer.diff([])},t.prototype.clear=function(){this.nodeOutlet&&this.nodeOutlet.first&&(this.nodeOutlet.first.viewContainer.clear(),this.dataDiffer.diff([]))},t}(O);T.decorators=[{type:o.Directive,args:[{selector:"cdk-nested-tree-node",exportAs:"cdkNestedTreeNode",host:{"[attr.aria-expanded]":"isExpanded","[attr.role]":"role",class:"cdk-tree-node cdk-nested-tree-node"},providers:[{provide:O,useExisting:T}]}]}],T.ctorParameters=function(){return[{type:o.ElementRef},{type:S},{type:o.IterableDiffers}]},T.propDecorators={nodeOutlet:[{type:o.ContentChildren,args:[b]}]};var _=/([A-Za-z%]+)$/,P=function(){function e(e,t,o,i,s){var a=this;this.treeNode=e,this.tree=t,this.renderer=o,this.element=i,this.dir=s,this._indent=20,this.indentUnits="px",this.destroyed=new r.Subject,this.dir&&this.dir.change&&this.dir.change.pipe(n.takeUntil(this.destroyed)).subscribe((function(){return a.setPadding()}))}return Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){this.setLevelInput(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indent",{get:function(){return this._indent},set:function(e){this.setIndentInput(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this.destroyed.next(),this.destroyed.complete()},e.prototype.setLevelInput=function(e){this._level=s.coerceNumberProperty(e,null),this.setPadding()},e.prototype.setIndentInput=function(e){var t=e,r="px";if("string"==typeof e){var n=e.split(_);t=n[0],r=n[1]||r}this.indentUnits=r,this._indent=s.coerceNumberProperty(t),this.setPadding()},e.prototype.paddingIndent=function(){var e=this.treeNode.data&&this.tree.treeControl.getLevel?this.tree.treeControl.getLevel(this.treeNode.data):null,t=this._level||e;return(t?t*this._indent+12:12)+"px"},e.prototype.setPadding=function(){var e=this.paddingIndent(),t=this.dir&&"rtl"===this.dir.value?"paddingRight":"paddingLeft";this.renderer.setStyle(this.element.nativeElement,t,e)},e}();P.decorators=[{type:o.Directive,args:[{selector:"[cdkTreeNodePadding]"}]}],P.ctorParameters=function(){return[{type:O},{type:S},{type:o.Renderer2},{type:o.ElementRef},{type:i.Directionality,decorators:[{type:o.Optional}]}]},P.propDecorators={level:[{type:o.Input,args:["cdkTreeNodePadding"]}],indent:[{type:o.Input,args:["cdkTreeNodePaddingIndent"]}]};var E=function(){function e(e,t){this.tree=e,this.treeNode=t,this._recursive=!1}return Object.defineProperty(e.prototype,"recursive",{get:function(){return this._recursive},set:function(e){this._recursive=e},enumerable:!1,configurable:!0}),e.prototype.toggle=function(e){this.recursive?this.tree.treeControl.toggleDescendants(this.treeNode.data):this.tree.treeControl.toggle(this.treeNode.data),e.stopPropagation()},e}();E.decorators=[{type:o.Directive,args:[{selector:"[cdkTreeNodeToggle]",host:{"(click)":"toggle($event)"}}]}],E.ctorParameters=function(){return[{type:S},{type:O}]},E.propDecorators={recursive:[{type:o.Input,args:["cdkTreeNodeToggleRecursive"]}]};var M=[T,C,P,E,S,O,b],V=function(){};V.decorators=[{type:o.NgModule,args:[{imports:[c.CommonModule],exports:M,declarations:M,providers:[a.FocusMonitor]}]}],e.BaseTreeControl=h,e.CdkNestedTreeNode=T,e.CdkTree=S,e.CdkTreeModule=V,e.CdkTreeNode=O,e.CdkTreeNodeDef=C,e.CdkTreeNodeOutlet=b,e.CdkTreeNodeOutletContext=D,e.CdkTreeNodePadding=P,e.CdkTreeNodeToggle=E,e.FlatTreeControl=y,e.NestedTreeControl=v,e.defaultCompareValues=f,e.defaultCompareViewValues=g,e.getTreeControlFunctionsMissingError=w,e.getTreeControlMissingError=x,e.getTreeMissingMatchingNodeDefError=k,e.getTreeMultipleDefaultNodeDefsError=N,e.getTreeNoValidDataSourceError=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ptsecurity-cdk-tree.umd.min.js.map